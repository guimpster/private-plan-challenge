<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-10-21T18:00:00.000Z" agent="5.0" etag="xxx" version="24.7.17" type="device">
  <diagram name="System Modules" id="system-modules">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="Private Plan Challenge - System Module Dependencies" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="400" height="30" as="geometry" />
        </mxCell>

        <!-- AppModule (Root) -->
        <mxCell id="appModule" value="AppModule" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="600" y="80" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="appModuleImports" value="Imports:&#xa;- ConfigModule&#xa;- PortsModule&#xa;- JobsModule" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="appModule">
          <mxGeometry y="30" width="200" height="50" as="geometry" />
        </mxCell>

        <!-- ConfigModule -->
        <mxCell id="configModule" value="ConfigModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="200" y="80" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="configModuleDetails" value="Dynamic Module&#xa;Provides: ConfigService&#xa;Types: json, env" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="configModule">
          <mxGeometry y="30" width="200" height="50" as="geometry" />
        </mxCell>

        <!-- PortsModule -->
        <mxCell id="portsModule" value="PortsModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1000" y="80" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="portsModuleDetails" value="Dynamic Module&#xa;Imports:&#xa;- CqrsModule&#xa;- AccountCqrsModule&#xa;- WithdrawalCqrsModule&#xa;- JobsModule&#xa;Controllers:&#xa;- AccountController&#xa;- WithdrawalController&#xa;- BradescoController&#xa;- JobsController" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="portsModule">
          <mxGeometry y="30" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- JobsModule -->
        <mxCell id="jobsModule" value="JobsModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="600" y="250" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="jobsModuleDetails" value="Imports:&#xa;- ScheduleModule&#xa;- CqrsModule&#xa;- InMemoryPrivatePlanModule&#xa;- DepositCqrsModule&#xa;Providers:&#xa;- DepositReleaseJob&#xa;- TestDataSetup&#xa;- PrivatePlanDepositService" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="jobsModule">
          <mxGeometry y="30" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- AccountCqrsModule -->
        <mxCell id="accountCqrsModule" value="AccountCqrsModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="200" y="250" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="accountCqrsModuleDetails" value="Imports:&#xa;- CqrsModule&#xa;- InMemoryPrivatePlanModule&#xa;Providers:&#xa;- GetAccountByIdHandler&#xa;- PrivatePlanAccountService" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="accountCqrsModule">
          <mxGeometry y="30" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- WithdrawalCqrsModule -->
        <mxCell id="withdrawalCqrsModule" value="WithdrawalCqrsModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1000" y="250" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="withdrawalCqrsModuleDetails" value="Imports:&#xa;- CqrsModule&#xa;- WithdrawalSagaModule&#xa;- InMemoryPrivatePlanModule&#xa;Providers:&#xa;- CommandHandlers&#xa;- QueryHandlers&#xa;- PrivatePlanWithdrawalService&#xa;- BankService (BradescoProxy)&#xa;- NotificationService (Mock)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="withdrawalCqrsModule">
          <mxGeometry y="30" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- DepositCqrsModule -->
        <mxCell id="depositCqrsModule" value="DepositCqrsModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="200" y="400" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="depositCqrsModuleDetails" value="Imports:&#xa;- CqrsModule&#xa;- InMemoryPrivatePlanModule&#xa;Providers:&#xa;- ProcessDepositsForReleaseHandler&#xa;- PrivatePlanDepositService" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="depositCqrsModule">
          <mxGeometry y="30" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- WithdrawalSagaModule -->
        <mxCell id="withdrawalSagaModule" value="WithdrawalSagaModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1000" y="400" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="withdrawalSagaModuleDetails" value="Imports:&#xa;- CqrsModule&#xa;- InMemoryPrivatePlanModule&#xa;Providers:&#xa;- WithdrawalSaga&#xa;- PrivatePlanWithdrawalService&#xa;- BankService (BradescoProxy)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="withdrawalSagaModule">
          <mxGeometry y="30" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- InMemoryPrivatePlanModule -->
        <mxCell id="inMemoryPrivatePlanModule" value="InMemoryPrivatePlanModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="600" y="400" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="inMemoryPrivatePlanModuleDetails" value="Imports:&#xa;- InMemoryDbModule&#xa;Providers:&#xa;- InMemoryPrivatePlanAccountRepository&#xa;- InMemoryPrivatePlanWithdrawalRepository&#xa;- InMemoryPrivatePlanDepositRepository" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="inMemoryPrivatePlanModule">
          <mxGeometry y="30" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- Business Module -->
        <mxCell id="businessModule" value="Business Module" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="400" y="550" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="businessModuleDetails" value="Domain Layer&#xa;Services:&#xa;- PrivatePlanAccountService&#xa;- PrivatePlanWithdrawalService&#xa;- PrivatePlanDepositService&#xa;- BankService&#xa;- NotificationService&#xa;Entities: User, Account, etc.&#xa;Repositories: Abstract interfaces&#xa;Errors: Business exceptions" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="businessModule">
          <mxGeometry y="30" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- InMemoryDbModule -->
        <mxCell id="inMemoryDbModule" value="InMemoryDbModule" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="800" y="550" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="inMemoryDbModuleDetails" value="Dynamic Module&#xa;Provides: IN_MEMORY_DB&#xa;Data Source: fake-users.json" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="inMemoryDbModule">
          <mxGeometry y="30" width="200" height="50" as="geometry" />
        </mxCell>

        <!-- External NestJS Modules -->
        <mxCell id="externalModules" value="External NestJS Modules" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="200" y="550" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="externalModulesDetails" value="CqrsModule&#xa;ScheduleModule&#xa;(from @nestjs/cqrs, @nestjs/schedule)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="externalModules">
          <mxGeometry y="30" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- Dependency arrows -->
        <!-- AppModule dependencies -->
        <mxCell id="appToConfig" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="appModule" target="configModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="120" as="sourcePoint" />
            <mxPoint x="650" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="appToPorts" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="appModule" target="portsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="120" as="sourcePoint" />
            <mxPoint x="850" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="appToJobs" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="appModule" target="jobsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="160" as="sourcePoint" />
            <mxPoint x="750" y="110" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- PortsModule dependencies -->
        <mxCell id="portsToAccountCqrs" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="portsModule" target="accountCqrsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="140" as="sourcePoint" />
            <mxPoint x="1050" y="90" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="portsToWithdrawalCqrs" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="portsModule" target="withdrawalCqrsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1100" y="200" as="sourcePoint" />
            <mxPoint x="1150" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="portsToJobs" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="portsModule" target="jobsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="200" as="sourcePoint" />
            <mxPoint x="1050" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- JobsModule dependencies -->
        <mxCell id="jobsToDepositCqrs" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jobsModule" target="depositCqrsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="310" as="sourcePoint" />
            <mxPoint x="650" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jobsToInMemory" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="jobsModule" target="inMemoryPrivatePlanModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="370" as="sourcePoint" />
            <mxPoint x="750" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- AccountCqrsModule dependencies -->
        <mxCell id="accountCqrsToInMemory" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="accountCqrsModule" target="inMemoryPrivatePlanModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="300" as="sourcePoint" />
            <mxPoint x="450" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- WithdrawalCqrsModule dependencies -->
        <mxCell id="withdrawalCqrsToSaga" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="withdrawalCqrsModule" target="withdrawalSagaModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1100" y="370" as="sourcePoint" />
            <mxPoint x="1150" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="withdrawalCqrsToInMemory" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="withdrawalCqrsModule" target="inMemoryPrivatePlanModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="310" as="sourcePoint" />
            <mxPoint x="1050" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- DepositCqrsModule dependencies -->
        <mxCell id="depositCqrsToInMemory" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="depositCqrsModule" target="inMemoryPrivatePlanModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="450" as="sourcePoint" />
            <mxPoint x="450" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- WithdrawalSagaModule dependencies -->
        <mxCell id="sagaToInMemory" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="withdrawalSagaModule" target="inMemoryPrivatePlanModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="450" as="sourcePoint" />
            <mxPoint x="1050" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- InMemoryPrivatePlanModule dependencies -->
        <mxCell id="inMemoryToDb" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="inMemoryPrivatePlanModule" target="inMemoryDbModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="450" as="sourcePoint" />
            <mxPoint x="850" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Business Module dependencies -->
        <mxCell id="accountCqrsToBusiness" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="accountCqrsModule" target="businessModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="300" as="sourcePoint" />
            <mxPoint x="250" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="withdrawalCqrsToBusiness" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="withdrawalCqrsModule" target="businessModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="310" as="sourcePoint" />
            <mxPoint x="1050" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="depositCqrsToBusiness" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="depositCqrsModule" target="businessModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="450" as="sourcePoint" />
            <mxPoint x="250" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sagaToBusiness" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="withdrawalSagaModule" target="businessModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="450" as="sourcePoint" />
            <mxPoint x="1050" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jobsToBusiness" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jobsModule" target="businessModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="310" as="sourcePoint" />
            <mxPoint x="650" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="inMemoryToBusiness" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="inMemoryPrivatePlanModule" target="businessModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="450" as="sourcePoint" />
            <mxPoint x="650" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- External modules dependencies -->
        <mxCell id="externalToAccountCqrs" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="externalModules" target="accountCqrsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="externalToWithdrawalCqrs" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="externalModules" target="withdrawalCqrsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="externalToDepositCqrs" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="externalModules" target="depositCqrsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="externalToSaga" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="externalModules" target="withdrawalSagaModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="externalToJobs" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="externalModules" target="jobsModule">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="600" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend" value="Legend" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="legendContent" value="🟢 Root Module&#xa;🔵 Ports Module&#xa;🟡 Config/Data Modules&#xa;🟢 Business/Domain Layer&#xa;🔴 CQRS Modules&#xa;⚪ External NestJS" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="legend">
          <mxGeometry y="30" width="120" height="90" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
